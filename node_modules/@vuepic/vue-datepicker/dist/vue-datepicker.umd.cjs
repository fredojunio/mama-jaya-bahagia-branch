(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],d):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=d(e.Vue,e.dateFns))})(this,function(e,d){"use strict";function Le(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function Ht(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function Ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const $t=(t,r,a,n)=>{const i=d.parse(t,r.slice(0,t.length),new Date);return d.isValid(i)&&d.isDate(i)?n?i:d.set(i,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},Wt=(t,r,a,n)=>{const i=Array.isArray(a)?a[0]:a;if(typeof r=="string")return $t(t,r,i,n);if(Array.isArray(r)){let m=null;for(const k of r)if(m=$t(t,k,i,n),m)break;return m}return typeof r=="function"?r(t):null},b=t=>t?new Date(t):new Date,jt=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),k=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${i}T${m}:${k}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},De=t=>{let r=b(JSON.parse(JSON.stringify(t)));return r=d.setHours(r,0),r=d.setMinutes(r,0),r=d.setSeconds(r,0),r=d.setMilliseconds(r,0),r},we=(t,r,a,n)=>{let i=t?b(t):b();return(r||r===0)&&(i=d.setHours(i,+r)),(a||a===0)&&(i=d.setMinutes(i,+a)),(n||n===0)&&(i=d.setSeconds(i,+n)),d.setMilliseconds(i,0)},ue=(t,r)=>!t||!r?!1:d.isBefore(De(t),De(r)),re=(t,r)=>!t||!r?!1:d.isEqual(De(t),De(r)),de=(t,r)=>!t||!r?!1:d.isAfter(De(t),De(r)),Bt=(t,r,a)=>t&&t[0]&&t[1]?de(a,t[0])&&ue(a,t[1]):t&&t[0]&&r?de(a,t[0])&&ue(a,r)||ue(a,t[0])&&de(a,r):!1,Ee=t=>{const r=d.set(new Date(t),{date:1});return De(r)},Re=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),St=()=>{const t=n=>{Re.menuFocused=n},r=n=>{Re.shiftKeyInMenu!==n&&(Re.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Re.shiftKeyInMenu,menuFocused:Re.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xe={},Gt={get exports(){return xe},set exports(t){xe=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=r.default})(Gt,xe);const Zt=Xe(xe);var ze={},qt={get exports(){return ze},set exports(t){ze=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}t.exports=r.default})(qt,ze);const Nt=Xe(ze);function Xt(t,r){var a=en(r);return a.formatToParts?Qt(a,t):Ft(a,t)}var Jt={year:0,month:1,day:2,hour:3,minute:4,second:5};function Qt(t,r){try{for(var a=t.formatToParts(r),n=[],i=0;i<a.length;i++){var m=Jt[a[i].type];m>=0&&(n[m]=parseInt(a[i].value,10))}return n}catch(k){if(k instanceof RangeError)return[NaN];throw k}}function Ft(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Je={};function en(t){if(!Je[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Je[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Je[t]}function Qe(t,r,a,n,i,m,k){var A=new Date(0);return A.setUTCFullYear(t,r,a),A.setUTCHours(n,i,m,k),A}var Tt=36e5,tn=6e4,Fe={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function et(t,r,a){var n,i;if(!t||(n=Fe.timezoneZ.exec(t),n))return 0;var m;if(n=Fe.timezoneHH.exec(t),n)return m=parseInt(n[1],10),Pt(m)?-(m*Tt):NaN;if(n=Fe.timezoneHHMM.exec(t),n){m=parseInt(n[1],10);var k=parseInt(n[2],10);return Pt(m,k)?(i=Math.abs(m)*Tt+k*tn,m>0?-i:i):NaN}if(an(t)){r=new Date(r||Date.now());var A=a?r:nn(r),E=tt(A,t),$=a?E:rn(r,E,t);return-$}return NaN}function nn(t){return Qe(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function tt(t,r){var a=Xt(t,r),n=Qe(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),i=t.getTime(),m=i%1e3;return i-=m>=0?m:1e3+m,n-i}function rn(t,r,a){var n=t.getTime(),i=n-r,m=tt(new Date(i),a);if(r===m)return r;i-=m-r;var k=tt(new Date(i),a);return m===k?m:Math.max(m,k)}function Pt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var At={};function an(t){if(At[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),At[t]=!0,!0}catch{return!1}}var ln=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Vt=ln;var nt=36e5,_t=6e4,on=2,fe={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Vt};function rt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?on:Zt(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=sn(t),m=cn(i.date,n),k=m.year,A=m.restDateString,E=un(A,k);if(isNaN(E))return new Date(NaN);if(E){var $=E.getTime(),I=0,C;if(i.time&&(I=dn(i.time),isNaN(I)))return new Date(NaN);if(i.timeZone||a.timeZone){if(C=et(i.timeZone||a.timeZone,new Date($+I)),isNaN(C))return new Date(NaN)}else C=Nt(new Date($+I)),C=Nt(new Date($+I+C));return new Date($+I+C)}else return new Date(NaN)}function sn(t){var r={},a=fe.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=fe.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var i=fe.timeZone.exec(n);i?(r.time=n.replace(i[1],""),r.timeZone=i[1].trim()):r.time=n}return r}function cn(t,r){var a=fe.YYY[r],n=fe.YYYYY[r],i;if(i=fe.YYYY.exec(t)||n.exec(t),i){var m=i[1];return{year:parseInt(m,10),restDateString:t.slice(m.length)}}if(i=fe.YY.exec(t)||a.exec(t),i){var k=i[1];return{year:parseInt(k,10)*100,restDateString:t.slice(k.length)}}return{year:null}}function un(t,r){if(r===null)return null;var a,n,i,m;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=fe.MM.exec(t),a)return n=new Date(0),i=parseInt(a[1],10)-1,vt(r,i)?(n.setUTCFullYear(r,i),n):new Date(NaN);if(a=fe.DDD.exec(t),a){n=new Date(0);var k=parseInt(a[1],10);return yn(r,k)?(n.setUTCFullYear(r,0,k),n):new Date(NaN)}if(a=fe.MMDD.exec(t),a){n=new Date(0),i=parseInt(a[1],10)-1;var A=parseInt(a[2],10);return vt(r,i,A)?(n.setUTCFullYear(r,i,A),n):new Date(NaN)}if(a=fe.Www.exec(t),a)return m=parseInt(a[1],10)-1,Ot(r,m)?Et(r,m):new Date(NaN);if(a=fe.WwwD.exec(t),a){m=parseInt(a[1],10)-1;var E=parseInt(a[2],10)-1;return Ot(r,m,E)?Et(r,m,E):new Date(NaN)}return null}function dn(t){var r,a,n;if(r=fe.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),at(a)?a%24*nt:NaN;if(r=fe.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),at(a,n)?a%24*nt+n*_t:NaN;if(r=fe.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var i=parseFloat(r[3].replace(",","."));return at(a,n,i)?a%24*nt+n*_t+i*1e3:NaN}return null}function Et(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,m=r*7+a+1-i;return n.setUTCDate(n.getUTCDate()+m),n}var fn=[31,28,31,30,31,30,31,31,30,31,30,31],mn=[31,29,31,30,31,30,31,31,30,31,30,31];function Rt(t){return t%400===0||t%4===0&&t%100!==0}function vt(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Rt(t);if(n&&a>mn[r]||!n&&a>fn[r])return!1}return!0}function yn(t,r){if(r<1)return!1;var a=Rt(t);return!(a&&r>366||!a&&r>365)}function Ot(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function at(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Ke={},pn={get exports(){return Ke},set exports(t){Ke=t}},Ue={},gn={get exports(){return Ue},set exports(t){Ue=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,i){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(n[m]=i[m]);return n}t.exports=r.default})(gn,Ue),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var a=n(Ue);function n(m){return m&&m.__esModule?m:{default:m}}function i(m){return(0,a.default)({},m)}t.exports=r.default}(pn,Ke);const hn=Xe(Ke);function kn(t,r,a){var n=rt(t,a),i=et(r,n,!0),m=new Date(n.getTime()-i),k=new Date(0);return k.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),k.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),k}function wn(t,r,a){if(typeof t=="string"&&!t.match(Vt)){var n=hn(a);return n.timeZone=r,rt(t,n)}var i=rt(t,a),m=Qe(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),k=et(r,new Date(m));return new Date(m+k)}const Dn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},bn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(m=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${m}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),i=a.slice(r+1,a.length);return[a[r]].concat(...i).concat(...n)},Mn=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},Cn=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const m=i<10?`0${i}`:i;return new Date(`2017-${m}-01T00:00:00+00:00`)}).map((i,m)=>({text:a.format(i),value:m}))},$n=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],se=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},Bn=t=>Object.assign({type:"dot"},t),Yt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,He={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ie=t=>t,It=t=>t===0?t:!t||isNaN(+t)?null:+t,Lt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Sn=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),Nn=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,Tn=(t,r,a)=>t||(typeof a=="string"?a:r),Pn=t=>typeof t=="boolean"?t?Lt({}):!1:Lt(t),An=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),Vn=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),ge=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(He.prop("partial-range"))},a=e.computed(()=>({ariaLabels:Sn(t.ariaLabels),textInputOptions:Object.assign(An(),t.textInputOptions),multiCalendars:Nn(t.multiCalendars),previewFormat:Tn(t.previewFormat,t.format,m()),filters:Vn(t.filters),transitions:Pn(t.transitions),startTime:p()})),n=c=>{if(t.range)return c();throw new Error(He.prop("range"))},i=()=>{const c=t.enableSeconds?":ss":"";return t.is24?`HH:mm${c}`:`hh:mm${c} aa`},m=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?i():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${i()}`:"MM/dd/yyyy",k=(c,l)=>{if(typeof t.format=="function")return t.format(c);const f=l||m(),M=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(c)?`${d.format(c[0],f,M)} ${t.modelAuto&&!c[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${c[1]?d.format(c[1],f,M):""}`:d.format(c,f,M)},A=c=>t.timezone?kn(c,t.timezone):c,E=c=>t.timezone?wn(c,t.timezone):c,$=e.computed(()=>c=>{var l;return(l=t.hideNavigation)==null?void 0:l.includes(c)}),I=c=>{const l=t.maxDate?de(A(c),A(b(t.maxDate))):!1,f=t.minDate?ue(A(c),A(b(t.minDate))):!1,M=N(c,t.disabledDates),V=a.value.filters.months.map(te=>+te).includes(d.getMonth(c)),h=t.disabledWeekDays.length?t.disabledWeekDays.some(te=>+te===d.getDay(c)):!1,D=t.allowedDates.length?!t.allowedDates.some(te=>re(A(b(te)),A(c))):!1,g=d.getYear(c),O=g<+t.yearRange[0]||g>+t.yearRange[1];return!(l||f||M||V||O||h||D)},C=c=>{const l={hours:d.getHours(b()),minutes:d.getMinutes(b()),seconds:t.enableSeconds?d.getSeconds(b()):0};return Object.assign(l,c)},p=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[C(t.startTime[0]),C(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?C(t.startTime):null,B=c=>!I(c),G=c=>Array.isArray(c)?d.isValid(c[0])&&(c[1]?d.isValid(c[1]):!0):c?d.isValid(c):!1,H=c=>c instanceof Date?c:d.parseISO(c),L=c=>{const l=d.startOfWeek(A(c),{weekStartsOn:+t.weekStart}),f=d.endOfWeek(A(c),{weekStartsOn:+t.weekStart});return[l,f]},N=(c,l)=>Array.isArray(l)?l.some(f=>re(A(b(f)),A(c))):l(c),v=(c,l,f)=>{let M=c?b(c):b();return(l||l===0)&&(M=d.setMonth(M,l)),f&&(M=d.setYear(M,f)),M},R=c=>d.set(b(),{hours:d.getHours(c),minutes:d.getMinutes(c),seconds:d.getSeconds(c)}),j=c=>d.set(b(),{hours:+c.hours||0,minutes:+c.minutes||0,seconds:+c.seconds||0}),x=(c,l,f,M)=>{if(!c)return!0;if(M){const Y=f==="max"?d.isBefore(c,l):d.isAfter(c,l),V={seconds:0,milliseconds:0};return Y||d.isEqual(d.set(c,V),d.set(l,V))}return f==="max"?c.getTime()<=l.getTime():c.getTime()>=l.getTime()},q=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,F=c=>Array.isArray(c)?[c[0]?R(c[0]):null,c[1]?R(c[1]):null]:R(c),S=c=>{const l=t.maxTime?j(t.maxTime):b(t.maxDate);return Array.isArray(c)?x(c[0],l,"max",!!t.maxDate)&&x(c[1],l,"max",!!t.maxDate):x(c,l,"max",!!t.maxDate)},T=(c,l)=>{const f=t.minTime?j(t.minTime):b(t.minDate);return Array.isArray(c)?x(c[0],f,"min",!!t.minDate)&&x(c[1],f,"min",!!t.minDate)&&l:x(c,f,"min",!!t.minDate)&&l},W=c=>{let l=!0;if(!c||q())return!0;const f=!t.minDate&&!t.maxDate?F(c):c;return(t.maxTime||t.maxDate)&&(l=S(ie(f))),(t.minTime||t.minDate)&&(l=T(ie(f),l)),l},y=(c,l)=>{const f=b(JSON.parse(JSON.stringify(c))),M=[];for(let Y=0;Y<7;Y++){const V=d.addDays(f,Y),h=d.getMonth(V)!==l;M.push({text:t.hideOffsetDates&&h?"":V.getDate(),value:V,current:!h,classData:{}})}return M},P=(c,l)=>{const f=[],M=b(A(new Date(l,c))),Y=b(A(new Date(l,c+1,0))),V=d.startOfWeek(M,{weekStartsOn:t.weekStart}),h=D=>{const g=y(D,c);if(f.push({days:g}),!f[f.length-1].days.some(O=>re(De(O.value),De(Y)))){const O=d.addDays(D,7);h(O)}};if(h(V),t.sixWeeks&&f.length<6){const D=6-f.length;for(let g=1;g<=D;g++){const O=f[f.length-1],te=O.days[O.days.length-1],ye=y(d.addDays(te.value,1),d.getMonth(M));f.push({days:ye})}}return f},z=(c,l,f)=>[d.set(b(c),{date:1}),d.set(b(),{month:l,year:f,date:1})],ee=(c,l)=>ue(...z(t.minDate,c,l))||re(...z(t.minDate,c,l)),Z=(c,l)=>de(...z(t.maxDate,c,l))||re(...z(t.maxDate,c,l)),_=(c,l,f)=>{let M=!1;return t.maxDate&&f&&Z(c,l)&&(M=!0),t.minDate&&!f&&ee(c,l)&&(M=!0),M};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:A,getZonedToUtc:E,formatDate:k,getDefaultPattern:m,validateDate:I,getDefaultStartTime:p,isDisabled:B,isValidDate:G,sanitizeDate:H,getWeekFromDate:L,matchDate:N,setDateMonthOrYear:v,isValidTime:W,getCalendarDays:P,validateMonthYearInRange:(c,l,f,M)=>{let Y=!1;return M?t.minDate&&t.maxDate?Y=_(c,l,f):(t.minDate&&ee(c,l)||t.maxDate&&Z(c,l))&&(Y=!0):Y=!0,Y},validateMaxDate:Z,validateMinDate:ee,assignDefaultTime:C,defaults:a,hideNavigationButtons:$}},le=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),lt=e.ref(null),We=e.ref(!1),ot=e.ref(!1),st=e.ref(!1),it=e.ref(!1),me=e.ref(0),ce=e.ref(0),Ce=()=>{const t=e.computed(()=>We.value?[...le.selectionGrid,le.actionRow].filter(N=>N.length):ot.value?[...le.timePicker[0],...le.timePicker[1],it.value?[]:[lt.value],le.actionRow].filter(N=>N.length):st.value?[...le.monthPicker,le.actionRow]:[le.monthYear,...le.calendar,le.time,le.actionRow].filter(N=>N.length)),r=N=>{me.value=N?me.value+1:me.value-1;let v=null;t.value[ce.value]&&(v=t.value[ce.value][me.value]),v||(me.value=N?me.value-1:me.value+1)},a=N=>{if(ce.value===0&&!N||ce.value===t.value.length&&N)return;ce.value=N?ce.value+1:ce.value-1,t.value[ce.value]?t.value[ce.value]&&!t.value[ce.value][me.value]&&me.value!==0&&(me.value=t.value[ce.value].length-1):ce.value=N?ce.value-1:ce.value+1},n=N=>{let v=null;t.value[ce.value]&&(v=t.value[ce.value][me.value]),v?v.focus({preventScroll:!We.value}):me.value=N?me.value-1:me.value+1},i=()=>{r(!0),n(!0)},m=()=>{r(!1),n(!1)},k=()=>{a(!1),n(!0)},A=()=>{a(!0),n(!0)},E=(N,v)=>{le[v]=N},$=(N,v)=>{le[v]=N},I=()=>{me.value=0,ce.value=0};return{buildMatrix:E,buildMultiLevelMatrix:$,setTimePickerBackRef:N=>{lt.value=N},setSelectionGrid:N=>{We.value=N,I(),N||(le.selectionGrid=[])},setTimePicker:(N,v=!1)=>{ot.value=N,it.value=v,I(),N||(le.timePicker[0]=[],le.timePicker[1]=[])},setTimePickerElements:(N,v=0)=>{le.timePicker[v]=N},arrowRight:i,arrowLeft:m,arrowUp:k,arrowDown:A,clearArrowNav:()=>{le.monthYear=[],le.calendar=[],le.time=[],le.actionRow=[],le.selectionGrid=[],le.timePicker[0]=[],le.timePicker[1]=[],We.value=!1,ot.value=!1,it.value=!1,st.value=!1,I(),lt.value=null},setMonthPicker:N=>{st.value=N,I()},refSets:le}},xt=t=>Array.isArray(t),Pe=t=>Array.isArray(t),zt=t=>Array.isArray(t)&&t.length===2,_n=(t,r,a,n,i)=>{const{getDefaultStartTime:m,isDisabled:k,sanitizeDate:A,getWeekFromDate:E,setDateMonthOrYear:$,validateMonthYearInRange:I,defaults:C}=ge(t),p=e.computed({get:()=>t.internalModelValue,set:u=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",u)}}),B=e.ref([]);e.watch(p,()=>{q()});const G=e.toRef(t,"multiCalendars");e.watch(G,()=>{Ne(0)});const H=e.ref([{month:d.getMonth(b()),year:d.getYear(b())}]),L=e.reactive({hours:t.range?[d.getHours(b()),d.getHours(b())]:d.getHours(b()),minutes:t.range?[d.getMinutes(b()),d.getMinutes(b())]:d.getMinutes(b()),seconds:t.range?[0,0]:0}),N=e.computed(()=>u=>H.value[u]?H.value[u].month:0),v=e.computed(()=>u=>H.value[u]?H.value[u].year:0),R=e.computed(()=>t.flow&&t.flow.length&&!t.partialFlow?i.value===t.flow.length:!0),j=(u,s,w)=>{var K,ne;H.value[u]||(H.value[u]={month:0,year:0}),H.value[u].month=s===null?(K=H.value[u])==null?void 0:K.month:s,H.value[u].year=w===null?(ne=H.value[u])==null?void 0:ne.year:w},x=(u,s)=>{L[u]=s};e.onMounted(()=>{p.value||(t.startDate&&(j(0,d.getMonth(b(t.startDate)),d.getYear(b(t.startDate))),C.value.multiCalendars&&Ne(0)),C.value.startTime&&_()),q(!0)});const q=(u=!1)=>{if(p.value)return Array.isArray(p.value)?(B.value=p.value,y(u)):S(p.value);if(t.timePicker)return P();if(t.monthPicker&&!t.range)return z();if(t.yearPicker&&!t.range)return ee();if(C.value.multiCalendars&&u&&!t.startDate)return F(b(),u)},F=(u,s=!1)=>{if((!C.value.multiCalendars||!t.multiStatic||s)&&j(0,d.getMonth(u),d.getYear(u)),C.value.multiCalendars)for(let w=1;w<C.value.multiCalendars;w++){const K=d.set(b(),{month:N.value(w-1),year:v.value(w-1)}),ne=d.add(K,{months:1});H.value[w]={month:d.getMonth(ne),year:d.getYear(ne)}}},S=u=>{F(u),x("hours",d.getHours(u)),x("minutes",d.getMinutes(u)),x("seconds",d.getSeconds(u))},T=(u,s)=>{F(u[0],s);const w=(K,ne)=>[K(u[0]),u[1]?K(u[1]):L[ne][1]];x("hours",w(d.getHours,"hours")),x("minutes",w(d.getMinutes,"minutes")),x("seconds",w(d.getSeconds,"seconds"))},W=(u,s)=>{if((t.range||t.weekPicker)&&!t.multiDates)return T(u,s);if(t.multiDates){const w=u[u.length-1];return S(w)}},y=u=>{const s=p.value;W(s,u),C.value.multiCalendars&&t.multiCalendarsSolo&&c()},P=()=>{if(_(),!t.range)p.value=we(b(),L.hours,L.minutes,Z());else{const u=L.hours,s=L.minutes;p.value=[we(b(),u[0],s[0],Z()),we(b(),u[1],s[1],Z(!1))]}},z=()=>{t.multiDates?p.value=[$(b(),N.value(0),v.value(0))]:p.value=$(b(),N.value(0),v.value(0))},ee=()=>{p.value=b()},Z=(u=!0)=>t.enableSeconds?Array.isArray(L.seconds)?u?L.seconds[0]:L.seconds[1]:L.seconds:0,_=()=>{const u=m();if(u){const s=Array.isArray(u),w=s?[+u[0].hours,+u[1].hours]:+u.hours,K=s?[+u[0].minutes,+u[1].minutes]:+u.minutes,ne=s?[+u[0].seconds,+u[1].seconds]:+u.seconds;x("hours",w),x("minutes",K),t.enableSeconds&&x("seconds",ne)}},o=()=>Array.isArray(p.value)&&p.value.length?p.value[p.value.length-1]:null,c=()=>{if(Array.isArray(p.value)&&p.value.length===2){const u=b(b(p.value[1]?p.value[1]:d.addMonths(p.value[0],1))),[s,w]=[d.getMonth(p.value[0]),d.getYear(p.value[0])],[K,ne]=[d.getMonth(p.value[1]),d.getYear(p.value[1])];(s!==K||s===K&&w!==ne)&&t.multiCalendarsSolo&&j(1,d.getMonth(u),d.getYear(u))}},l=u=>{const s=d.addMonths(u,1);return{month:d.getMonth(s),year:d.getYear(s)}},f=u=>{const s=d.getMonth(b(u)),w=d.getYear(b(u));if(j(0,s,w),C.value.multiCalendars>0)for(let K=1;K<C.value.multiCalendars;K++){const ne=l(d.set(b(u),{year:N.value(K-1),month:v.value(K-1)}));j(K,ne.month,ne.year)}},M=u=>{if(p.value&&Array.isArray(p.value))if(p.value.some(s=>re(u,s))){const s=p.value.filter(w=>!re(w,u));p.value=s.length?s:null}else(t.multiDatesLimit&&+t.multiDatesLimit>p.value.length||!t.multiDatesLimit)&&p.value.push(u);else p.value=[u]},Y=(u,s)=>{const w=de(u,s)?s:u,K=de(s,u)?s:u;return d.eachDayOfInterval({start:w,end:K})},V=(u,s=0)=>{if(Array.isArray(p.value)&&p.value[s]){const w=d.differenceInCalendarDays(u,p.value[s]),K=Y(p.value[s],u),ne=K.length===1?0:K.filter(U=>k(U)).length,ke=Math.abs(w)-ne;if(t.minRange&&t.maxRange)return ke>=+t.minRange&&ke<=+t.maxRange;if(t.minRange)return ke>=+t.minRange;if(t.maxRange)return ke<=+t.maxRange}return!0},h=u=>Array.isArray(p.value)&&p.value.length===2?t.fixedStart&&(de(u,p.value[0])||re(u,p.value[0]))?[p.value[0],u]:t.fixedEnd&&(ue(u,p.value[1])||re(u,p.value[1]))?[u,p.value[1]]:(r("invalid-fixed-range",u),p.value):[],D=()=>{t.autoApply&&R.value&&r("auto-apply",t.partialFlow)},g=()=>{t.autoApply&&r("select-date")},O=u=>!d.eachDayOfInterval({start:u[0],end:u[1]}).some(w=>k(w)),te=u=>(p.value=E(b(u.value)),D()),ye=u=>{const s=we(b(u.value),L.hours,L.minutes,Z());t.multiDates?M(s):p.value=s,a(),D()},Be=()=>{B.value=p.value?p.value.slice():[],B.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(B.value=[])},Q=(u,s)=>{const w=[b(u.value),d.addDays(b(u.value),+t.autoRange)];O(w)&&(s&&f(u.value),B.value=w)},Se=u=>{be(u.value)||!V(u.value,t.fixedStart?0:1)||(B.value=h(b(u.value)))},be=u=>t.noDisabledRange?Y(B.value[0],u).some(w=>k(w)):!1,pe=(u,s)=>{if(Be(),t.autoRange)return Q(u,s);if(t.fixedStart||t.fixedEnd)return Se(u);B.value[0]?V(b(u.value))&&!be(u.value)&&(ue(b(u.value),b(B.value[0]))?B.value.unshift(b(u.value)):B.value[1]=b(u.value)):B.value[0]=b(u.value)},Ve=u=>{B.value[u]=we(B.value[u],L.hours[u],L.minutes[u],Z(u!==1))},X=()=>{B.value.length&&(B.value[0]&&!B.value[1]?Ve(0):(Ve(0),Ve(1),a()),p.value=B.value.slice(),B.value[0]&&B.value[1]&&t.autoApply&&r("auto-apply"),B.value[0]&&!B.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},oe=(u,s=!1)=>{if(!(k(u.value)||!u.current&&t.hideOffsetDates)){if(t.weekPicker)return te(u);if(!t.range)return ye(u);Pe(L.hours)&&Pe(L.minutes)&&!t.multiDates&&(pe(u,s),X())}},ae=u=>{const s=u[0];return t.weekNumbers==="local"?d.getWeek(s.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?d.getISOWeek(s.value):typeof t.weekNumbers=="function"?t.weekNumbers(s.value):""},Ne=u=>{for(let s=u-1;s>=0;s--){const w=d.subMonths(d.set(b(),{month:N.value(s+1),year:v.value(s+1)}),1);j(s,d.getMonth(w),d.getYear(w))}for(let s=u+1;s<=C.value.multiCalendars-1;s++){const w=d.addMonths(d.set(b(),{month:N.value(s-1),year:v.value(s-1)}),1);j(s,d.getMonth(w),d.getYear(w))}},he=u=>$(b(),N.value(u),v.value(u)),Ze=u=>we(u,L.hours,L.minutes,Z()),ft=u=>{M(he(u))},mt=(u,s)=>{const w=t.monthPicker?N.value(u)!==s.month||!s.fromNav:v.value(u)!==s.year||!s.fromNav;if(j(u,s.month,s.year),C.value.multiCalendars&&!t.multiCalendarsSolo&&Ne(u),t.monthPicker||t.yearPicker)if(t.multiDates)w&&ft(u);else if(t.range){if(w&&V(he(u))){let K=p.value?p.value.slice():[];K.length===2&&K[1]!==null&&(K=[]),K.length?ue(he(u),K[0])?K.unshift(he(u)):K[1]=he(u):K=[he(u)],p.value=K}}else p.value=he(u);r("update-month-year",{instance:u,month:s.month,year:s.year}),n(t.multiCalendarsSolo?u:void 0)},yt=async(u=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const s=t.monthPicker?u:!1;t.range?r("auto-apply",s||!p.value||p.value.length===1):r("auto-apply",s)}a()},qe=(u,s)=>{const w=d.set(b(),{month:N.value(s),year:v.value(s)}),K=u<0?d.addMonths(w,1):d.subMonths(w,1);I(d.getMonth(K),d.getYear(K),u<0,t.preventMinMaxNavigation)&&(j(s,d.getMonth(K),d.getYear(K)),C.value.multiCalendars&&!t.multiCalendarsSolo&&Ne(s),r("update-month-year",{instance:s,month:d.getMonth(K),year:d.getYear(K)}),n())},Oe=u=>{xt(u)&&xt(p.value)&&Pe(L.hours)&&Pe(L.minutes)?(u[0]&&p.value[0]&&(p.value[0]=we(u[0],L.hours[0],L.minutes[0],Z())),u[1]&&p.value[1]&&(p.value[1]=we(u[1],L.hours[1],L.minutes[1],Z(!1)))):t.multiDates&&Array.isArray(p.value)?p.value[p.value.length-1]=Ze(u):!t.range&&!zt(u)&&(p.value=Ze(u)),r("time-update")},pt=(u,s=!0,w=!1)=>{const K=s?u:L.hours,ne=!s&&!w?u:L.minutes,ke=w?u:L.seconds;if(t.range&&zt(p.value)&&Pe(K)&&Pe(ne)&&Pe(ke)&&!t.disableTimeRangeValidation){const U=J=>we(p.value[J],K[J],ne[J],ke[J]),Me=J=>d.setMilliseconds(p.value[J],0);if(re(p.value[0],p.value[1])&&(d.isAfter(U(0),Me(1))||d.isBefore(U(1),Me(0))))return}if(x("hours",K),x("minutes",ne),x("seconds",ke),p.value)if(t.multiDates){const U=o();U&&Oe(U)}else Oe(p.value);else t.timePicker&&Oe(t.range?[b(),b()]:b());a()},gt=(u,s)=>{t.monthChangeOnScroll&&qe(t.monthChangeOnScroll!=="inverse"?-u.deltaY:u.deltaY,s)},Ye=(u,s,w=!1)=>{t.monthChangeOnArrows&&t.vertical===w&&Te(u,s)},Te=(u,s)=>{qe(u==="right"?-1:1,s)};return{time:L,month:N,year:v,modelValue:p,calendars:H,monthYearSelect:yt,isDisabled:k,updateTime:pt,getWeekNum:ae,selectDate:oe,updateMonthYear:mt,handleScroll:gt,getMarker:u=>t.markers.find(s=>re(A(u.value),A(s.date))),handleArrow:Ye,handleSwipe:Te,selectCurrentDate:()=>{t.range?p.value&&Array.isArray(p.value)&&p.value[0]?p.value=ue(b(),p.value[0])?[b(),p.value[0]]:[p.value[0],b()]:p.value=[b()]:p.value=b(),g()},presetDateRange:(u,s)=>{s||u.length&&u.length<=2&&t.range&&(p.value=u.map(w=>b(w)),g(),t.multiCalendars&&e.nextTick().then(()=>q(!0)))}}},En=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:i,getZonedDate:m,formatDate:k,getDefaultPattern:A,checkRangeEnabled:E,checkPartialRangeValue:$,isValidDate:I,setDateMonthOrYear:C,defaults:p}=ge(r),B=e.ref(""),G=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(G,()=>{c()});const H=g=>{const O=g||b();return r.modelType?f(O):{hours:d.getHours(O),minutes:d.getMinutes(O),seconds:r.enableSeconds?d.getSeconds(O):0}},L=g=>r.modelType?f(g):{month:d.getMonth(g),year:d.getYear(g)},N=g=>Array.isArray(g)?E(()=>[d.setYear(b(),g[0]),g[1]?d.setYear(b(),g[1]):$()]):d.setYear(b(),+g),v=(g,O)=>(typeof g=="string"||typeof g=="number")&&r.modelType?l(g):O,R=g=>Array.isArray(g)?[v(g[0],we(null,+g[0].hours,+g[0].minutes,g[0].seconds)),v(g[1],we(null,+g[1].hours,+g[1].minutes,g[1].seconds))]:v(g,we(null,g.hours,g.minutes,g.seconds)),j=g=>Array.isArray(g)?r.multiDates?g.map(O=>v(O,C(null,+O.month,+O.year))):E(()=>[v(g[0],C(null,+g[0].month,+g[0].year)),v(g[1],g[1]?C(null,+g[1].month,+g[1].year):$())]):v(g,C(null,+g.month,+g.year)),x=g=>{if(Array.isArray(g))return g.map(O=>l(O));throw new Error(He.dateArr("multi-dates"))},q=g=>{if(Array.isArray(g))return[b(g[0]),b(g[1])];throw new Error(He.dateArr("week-picker"))},F=g=>r.modelAuto?Array.isArray(g)?[l(g[0]),l(g[1])]:r.autoApply?[l(g)]:[l(g),null]:Array.isArray(g)?E(()=>[l(g[0]),g[1]?l(g[1]):$()]):l(g),S=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push($())},T=()=>{const g=n.value;return[f(g[0]),g[1]?f(g[1]):$()]},W=()=>n.value[1]?T():f(ie(n.value[0])),y=()=>(n.value||[]).map(g=>f(g)),P=()=>(S(),r.modelAuto?W():r.multiDates?y():Array.isArray(n.value)?E(()=>T()):f(ie(n.value))),z=g=>g?r.timePicker?R(ie(g)):r.monthPicker?j(ie(g)):r.yearPicker?N(ie(g)):r.multiDates?x(ie(g)):r.weekPicker?q(ie(g)):F(ie(g)):null,ee=g=>{const O=z(g);I(ie(O))?(n.value=ie(O),c()):(n.value=null,B.value="")},Z=()=>{var O;const g=te=>{var ye;return d.format(te,(ye=p.value.textInputOptions)==null?void 0:ye.format)};return`${g(n.value[0])} ${(O=p.value.textInputOptions)==null?void 0:O.rangeSeparator} ${n.value[1]?g(n.value[1]):""}`},_=()=>{var g;return a.value&&n.value?Array.isArray(n.value)?Z():d.format(n.value,(g=p.value.textInputOptions)==null?void 0:g.format):k(n.value)},o=()=>{var g;return n.value?r.multiDates?n.value.map(O=>k(O)).join("; "):r.textInput&&typeof((g=p.value.textInputOptions)==null?void 0:g.format)=="string"?_():k(n.value):""},c=()=>{!r.format||typeof r.format=="string"?B.value=o():B.value=r.format(n.value)},l=g=>{if(r.utc){const O=new Date(g);return r.utc==="preserve"?new Date(O.getTime()+O.getTimezoneOffset()*6e4):O}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?m(new Date(g)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?d.parse(g,A(),new Date):m(d.parse(g,r.modelType,new Date)):m(new Date(g))},f=g=>g?r.utc?jt(g,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+i(g):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?k(i(g)):k(i(g),r.modelType):i(g):"",M=g=>{t("update:model-value",g)},Y=g=>Array.isArray(n.value)?r.multiDates?n.value.map(O=>g(O)):[g(n.value[0]),n.value[1]?g(n.value[1]):$()]:g(ie(n.value)),V=g=>M(ie(Y(g)));return{inputValue:B,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:ee,formatInputValue:c,emitModelValue:()=>(c(),r.monthPicker?V(L):r.timePicker?V(H):r.yearPicker?V(d.getYear):r.weekPicker?M(n.value):M(P()))}},Rn=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:i,defaults:m}=ge(t),k=(C,p)=>{let B=C;return m.value.filters.months.includes(d.getMonth(B))?(B=p?d.addMonths(C,1):d.subMonths(C,1),k(B,p)):B},A=(C,p)=>{let B=C;return m.value.filters.years.includes(d.getYear(B))?(B=p?d.addYears(C,1):d.subYears(C,1),A(B,p)):B},E=C=>{const p=d.set(new Date,{month:t.month,year:t.year});let B=C?d.addMonths(p,1):d.subMonths(p,1),G=d.getMonth(B),H=d.getYear(B);m.value.filters.months.includes(G)&&(B=k(B,C),G=d.getMonth(B),H=d.getYear(B)),m.value.filters.years.includes(H)&&(B=A(B,C),H=d.getYear(B)),a(G,H,C,t.preventMinMaxNavigation)&&$(G,H)},$=(C,p)=>{r("update-month-year",{month:C,year:p})},I=e.computed(()=>C=>{if(!t.preventMinMaxNavigation||C&&!t.maxDate||!C&&!t.minDate)return!1;const p=d.set(new Date,{month:t.month,year:t.year}),B=C?d.addMonths(p,1):d.subMonths(p,1),G=[d.getMonth(B),d.getYear(B)];return C?!n(...G):!i(...G)});return{handleMonthYearChange:E,isDisabled:I,updateMonthYear:$}};var je=(t=>(t.center="center",t.left="left",t.right="right",t))(je||{});const vn=(t,r,a,n)=>{const i=e.ref({top:"0",left:"0",transform:"none"}),m=e.ref(!1),k=e.toRef(n,"teleportCenter");e.watch(k,()=>{H()});const A=S=>{if(n.teleport){const T=S.getBoundingClientRect();return{left:T.left+window.scrollX,top:T.top+window.scrollY}}return{top:0,left:0}},E=(S,T)=>{i.value.left=`${S+T}px`,i.value.transform="translateX(-100%)"},$=S=>{i.value.left=`${S}px`,i.value.transform="translateX(0)"},I=(S,T,W=!1)=>{n.position===je.left&&$(S),n.position===je.right&&E(S,T),n.position===je.center&&(i.value.left=`${S+T/2}px`,i.value.transform=W?"translate(-50%, -50%)":"translateX(-50%)")},C=S=>{const{width:T,height:W}=S.getBoundingClientRect(),{top:y,left:P}=n.altPosition?n.altPosition(S):A(S);return{top:+y,left:+P,width:T,height:W}},p=()=>{const S=se(r);if(S){const{top:T,left:W,width:y,height:P}=C(S);i.value.top=`${T+P/2}px`,i.value.transform="translateY(-50%)",I(W,y,!0)}},B=()=>{i.value.left="50%",i.value.top="50%",i.value.transform="translate(-50%, -50%)",i.value.position="fixed"},G=()=>{const S=se(r),{top:T,left:W,transform:y}=n.altPosition(S);i.value={top:`${T}px`,left:`${W}px`,transform:y||""}},H=(S=!0)=>{if(!n.inline)return k.value?B():n.altPosition!==null?G():(S&&a("recalculate-position"),x())},L=({inputEl:S,menuEl:T,left:W,width:y})=>{window.screen.width>768&&I(W,y),R(S,T)},N=(S,T)=>{const{top:W,left:y,height:P,width:z}=C(S);i.value.top=`${P+W+ +n.offset}px`,L({inputEl:S,menuEl:T,left:y,width:z}),m.value=!1},v=(S,T)=>{const{top:W,left:y,width:P}=C(S),{height:z}=T.getBoundingClientRect();i.value.top=`${W-z-+n.offset}px`,L({inputEl:S,menuEl:T,left:y,width:P}),m.value=!0},R=(S,T)=>{if(n.autoPosition){const{left:W,width:y}=C(S),{left:P,right:z}=T.getBoundingClientRect();return P<=0||P<=W?$(W):z>=document.documentElement.clientWidth?E(W,y):I(W,y)}},j=(S,T)=>{const{height:W}=T.getBoundingClientRect(),{top:y,height:P}=S.getBoundingClientRect(),ee=window.innerHeight-y-P,Z=y;return W<=ee?N(S,T):W>ee&&W<=Z?v(S,T):ee>=Z?N(S,T):v(S,T)},x=()=>{const S=se(r),T=se(t);if(S&&T)return n.autoPosition?j(S,T):N(S,T)},q=function(S){if(S){const T=S.scrollHeight>S.clientHeight,y=window.getComputedStyle(S).overflowY.indexOf("hidden")!==-1;return T&&!y}return!0},F=function(S){return!S||S===document.body||S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:q(S)?S:F(S.parentNode)};return{openOnTop:m,menuPosition:i,setMenuPosition:H,setInitialPosition:p,getScrollableParent:F}},_e=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],On=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Yn={all:()=>_e,monthYear:()=>_e.filter(t=>t.use.includes("month-year")),input:()=>On,timePicker:()=>_e.filter(t=>t.use.includes("time")),action:()=>_e.filter(t=>t.use.includes("action")),calendar:()=>_e.filter(t=>t.use.includes("calendar")),menu:()=>_e.filter(t=>t.use.includes("menu"))},Ae=(t,r,a)=>{const n=[];return Yn[r]().forEach(i=>{t[i.name]&&n.push(i.name)}),a&&a.length&&a.forEach(i=>{i.slot&&n.push(i.slot)}),n},Ge=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),$e={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},In=["aria-label","aria-disabled","aria-readonly"],Ln={key:1,class:"dp__input_wrap"},xn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],zn={key:2,class:"dp__input_icon"},Kn={key:4,class:"dp__clear_icon"},Un=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...$e},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:i,isValidDate:m,defaults:k,getDefaultStartTime:A,assignDefaultTime:E}=ge(n),$=e.ref(),I=e.ref(null),C=e.ref(!1),p=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:C.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),B=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),$.value=null)},G=y=>{var z;const P=A();return Wt(y,((z=k.value.textInputOptions)==null?void 0:z.format)||i(),P||E({}),n.inputValue)},H=y=>{const{rangeSeparator:P}=k.value.textInputOptions,[z,ee]=y.split(`${P}`);if(z){const Z=G(z.trim()),_=ee?G(ee.trim()):null,o=Z&&_?[Z,_]:[Z];$.value=Z?o:null}},L=y=>{if(n.range)H(y);else if(n.multiDates){const P=y.split(";");$.value=P.map(z=>G(z.trim())).filter(z=>z)}else $.value=G(y)},N=y=>{var z;const{value:P}=y.target;P!==""?((z=k.value.textInputOptions)!=null&&z.openMenu&&!n.isMenuOpen&&a("open"),L(P),a("set-input-date",$.value)):B(),a("update:input-value",P)},v=()=>{var y,P;(y=k.value.textInputOptions)!=null&&y.enterSubmit&&m($.value)&&n.inputValue!==""?(a("set-input-date",$.value,!0),$.value=null):(P=k.value.textInputOptions)!=null&&P.enterSubmit&&n.inputValue===""&&($.value=null,a("clear"))},R=()=>{var y,P;(y=k.value.textInputOptions)!=null&&y.tabSubmit&&m($.value)&&n.inputValue!==""?(a("set-input-date",$.value,!0),$.value=null):(P=k.value.textInputOptions)!=null&&P.tabSubmit&&n.inputValue===""&&($.value=null,a("clear"))},j=()=>{C.value=!0,a("focus")},x=y=>{var P;y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),n.textInput&&((P=k.value.textInputOptions)!=null&&P.openMenu)&&!n.inlineWithInput?n.isMenuOpen?k.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},q=()=>{C.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&$.value&&(a("set-input-date",$.value),a("select-date"),$.value=null)},F=()=>{a("clear")},S=y=>{if(!n.textInput){if(y.code==="Tab")return;y.preventDefault()}};return r({focusInput:()=>{I.value&&I.value.focus({preventScroll:!0})},setParsedDate:y=>{$.value=y}}),(y,P)=>{var z;return e.openBlock(),e.createElementBlock("div",{onClick:x,"aria-label":(z=e.unref(k).ariaLabels)==null?void 0:z.input,role:"textbox","aria-multiline":"false","aria-disabled":y.disabled,"aria-readonly":y.readonly},[y.$slots.trigger&&!y.$slots["dp-input"]&&!y.inline?e.renderSlot(y.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!y.$slots.trigger&&(!y.inline||y.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",Ln,[y.$slots["dp-input"]&&!y.$slots.trigger&&!y.inline?e.renderSlot(y.$slots,"dp-input",{key:0,value:t.inputValue,onInput:N,onEnter:v,onTab:R,onClear:F,onBlur:q}):e.createCommentVNode("",!0),y.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:I,id:y.uid?`dp-input-${y.uid}`:void 0,name:y.name,class:e.normalizeClass(e.unref(p)),inputmode:y.textInput?"text":"none",placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,required:y.required,value:t.inputValue,autocomplete:y.autocomplete,onInput:N,onKeydown:[e.withKeys(x,["enter"]),e.withKeys(R,["tab"]),S],onBlur:q,onFocus:j,onKeypress:S},null,42,xn)),y.$slots["input-icon"]&&!y.hideInputIcon?(e.openBlock(),e.createElementBlock("span",zn,[e.renderSlot(y.$slots,"input-icon")])):e.createCommentVNode("",!0),!y.$slots["input-icon"]&&!y.hideInputIcon&&!y.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),y.$slots["clear-icon"]&&t.inputValue&&y.clearable&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("span",Kn,[e.renderSlot(y.$slots,"clear-icon",{clear:F})])):e.createCommentVNode("",!0),y.clearable&&!y.$slots["clear-icon"]&&t.inputValue&&!y.disabled&&!y.readonly?(e.openBlock(),e.createBlock(e.unref(Ht),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(F,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,In)}}}),Hn={class:"dp__action_row"},Wn={class:"dp__selection_preview"},jn={class:"dp__action_buttons"},Gn=["onKeydown"],Zn=e.defineComponent({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:i,defaults:m}=ge(a),{buildMatrix:k}=Ce(),A=e.ref(null),E=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&k([se(A),se(E)],"actionRow")});const $=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),I=e.computed(()=>!p.value||!B.value||!$.value),C=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:I.value})),p=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:i(a.internalModelValue)),B=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(j=>!N(j)).length:N(a.internalModelValue):!0),G=()=>{const R=m.value.previewFormat;return a.timePicker||a.monthPicker,R(ie(a.internalModelValue))},H=()=>{const R=a.internalModelValue;return m.value.multiCalendars>0?`${n(R[0])} - ${n(R[1])}`:[n(R[0]),n(R[1])]},L=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof m.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?H():a.multiDates?a.internalModelValue.map(R=>`${n(R)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):G()),N=R=>{if(!a.monthPicker)return!0;let j=!0;const x=b(Ee(R));if(a.minDate&&a.maxDate){const q=b(Ee(a.minDate)),F=b(Ee(a.maxDate));return de(x,q)&&ue(x,F)||re(x,q)||re(x,F)}if(a.minDate){const q=b(Ee(a.minDate));j=de(x,q)||re(x,q)}if(a.maxDate){const q=b(Ee(a.maxDate));j=ue(x,q)||re(x,q)}return j},v=()=>{p.value&&B.value&&$.value?r("select-date"):r("invalid-select")};return(R,j)=>(e.openBlock(),e.createElementBlock("div",Hn,[R.$slots["action-row"]?e.renderSlot(R.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(I),selectDate:()=>R.$emit("select-date"),closePicker:()=>R.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",Wn,[R.$slots["action-preview"]?e.renderSlot(R.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),R.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(L))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(L)),1)],64)),Array.isArray(e.unref(L))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(L),(x,q)=>(e.openBlock(),e.createElementBlock("div",{key:q},e.toDisplayString(x),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",jn,[R.$slots["action-select"]?e.renderSlot(R.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),R.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[R.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:A,tabindex:"0",onClick:j[0]||(j[0]=x=>R.$emit("close-picker")),onKeydown:[j[1]||(j[1]=e.withKeys(x=>R.$emit("close-picker"),["enter"])),j[2]||(j[2]=e.withKeys(x=>R.$emit("close-picker"),["space"]))]},e.toDisplayString(R.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(C)),tabindex:"0",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,"data-test":"select-button",ref_key:"selectButtonRef",ref:E},e.toDisplayString(R.selectText),43,Gn)],64))])],64))]))}}),qn=["aria-label"],Xn={class:"dp__calendar_header",role:"row"},Jn={key:0,class:"dp__calendar_header_item",role:"gridcell"},Qn=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Fn=["aria-label"],er={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},tr={class:"dp__cell_inner"},nr=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],rr=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...$e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:i}=Ce(),{setDateMonthOrYear:m,defaults:k}=ge(n),A=e.ref(null),E=e.ref({bottom:"",left:"",transform:""}),$=e.ref([]),I=e.ref(null),C=e.ref(!0),p=e.ref(""),B=e.ref({startX:0,endX:0,startY:0,endY:0}),G=e.ref([]),H=e.ref({left:"50%"}),L=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):bn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:$}),n.noSwipe||I.value&&(I.value.addEventListener("touchstart",y,{passive:!1}),I.value.addEventListener("touchend",P,{passive:!1}),I.value.addEventListener("touchmove",z,{passive:!1})),n.monthChangeOnScroll&&I.value&&I.value.addEventListener("wheel",_,{passive:!1})});const N=o=>o?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",v=(o,c)=>{if(n.transitions){const l=De(m(b(),n.month,n.year));p.value=de(De(m(b(),o,c)),l)?k.value.transitions[N(!0)]:k.value.transitions[N(!1)],C.value=!1,e.nextTick(()=>{C.value=!0})}},R=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),j=e.computed(()=>o=>{const c=Bn(o);return{dp__marker_dot:c.type==="dot",dp__marker_line:c.type==="line"}}),x=e.computed(()=>o=>re(o,A.value)),q=e.computed(()=>({dp__calendar:!0,dp__calendar_next:k.value.multiCalendars>0&&n.instance!==0})),F=e.computed(()=>o=>n.hideOffsetDates?o.current:!0),S=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),T=async(o,c,l)=>{var f,M;if(a("set-hover-date",o),(M=(f=o.marker)==null?void 0:f.tooltip)!=null&&M.length){const Y=se($.value[c][l]);if(Y){const{width:V,height:h}=Y.getBoundingClientRect();A.value=o.value;let D={left:`${V/2}px`},g=-50;if(await e.nextTick(),G.value[0]){const{left:O,width:te}=G.value[0].getBoundingClientRect();O<0&&(D={left:"0"},g=0,H.value.left=`${V/2}px`),window.innerWidth<O+te&&(D={right:"0"},g=0,H.value.left=`${te-V/2}px`)}E.value={bottom:`${h}px`,...D,transform:`translateX(${g}%)`},a("tooltip-open",o.marker)}}},W=o=>{A.value&&(A.value=null,E.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",o.marker))},y=o=>{B.value.startX=o.changedTouches[0].screenX,B.value.startY=o.changedTouches[0].screenY},P=o=>{B.value.endX=o.changedTouches[0].screenX,B.value.endY=o.changedTouches[0].screenY,ee()},z=o=>{n.vertical&&!n.inline&&o.preventDefault()},ee=()=>{const o=n.vertical?"Y":"X";Math.abs(B.value[`start${o}`]-B.value[`end${o}`])>10&&a("handle-swipe",B.value[`start${o}`]>B.value[`end${o}`]?"right":"left")},Z=(o,c,l)=>{o&&(Array.isArray($.value[c])?$.value[c][l]=o:$.value[c]=[o]),n.arrowNavigation&&i($.value,"calendar")},_=o=>{n.monthChangeOnScroll&&(o.preventDefault(),a("handle-scroll",o))};return r({triggerTransition:v}),(o,c)=>{var l;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(q))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(S))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:I,class:e.normalizeClass(e.unref(R)),role:"grid","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.calendarWrap},[e.createElementVNode("div",Xn,[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",Jn,e.toDisplayString(o.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(L),(f,M)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:M,"data-test":"calendar-header"},[o.$slots["calendar-header"]?e.renderSlot(o.$slots,"calendar-header",{key:0,day:f,index:M}):e.createCommentVNode("",!0),o.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(f),1)],64))]))),128))]),Qn,e.createVNode(e.Transition,{name:p.value,css:!!o.transitions},{default:e.withCtx(()=>{var f;return[C.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(f=e.unref(k).ariaLabels)==null?void 0:f.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(M,Y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:Y},[o.weekNumbers?(e.openBlock(),e.createElementBlock("div",er,[e.createElementVNode("div",tr,e.toDisplayString(t.getWeekNum(M.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.days,(V,h)=>{var D,g,O;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:te=>Z(te,Y,h),key:h+Y,"aria-selected":V.classData.dp__active_date||V.classData.dp__range_start||V.classData.dp__range_start,"aria-disabled":V.classData.dp__cell_disabled,"aria-label":(g=(D=e.unref(k).ariaLabels)==null?void 0:D.day)==null?void 0:g.call(D,V),tabindex:"0","data-test":V.value,onClick:e.withModifiers(te=>o.$emit("select-date",V),["stop","prevent"]),onKeydown:[e.withKeys(te=>o.$emit("select-date",V),["enter"]),e.withKeys(te=>o.$emit("handle-space",V),["space"])],onMouseenter:te=>T(V,Y,h),onMouseleave:te=>W(V)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",V.classData])},[o.$slots.day&&e.unref(F)(V)?e.renderSlot(o.$slots,"day",{key:0,day:+V.text,date:V.value}):e.createCommentVNode("",!0),o.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(V.text),1)],64)),V.marker&&e.unref(F)(V)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(j)(V.marker)),style:e.normalizeStyle(V.marker.color?{backgroundColor:V.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(x)(V.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:G,style:e.normalizeStyle(E.value)},[(O=V.marker)!=null&&O.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:c[0]||(c[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.marker.tooltip,(te,ye)=>(e.openBlock(),e.createElementBlock("div",{key:ye,class:"dp__tooltip_text"},[o.$slots["marker-tooltip"]?e.renderSlot(o.$slots,"marker-tooltip",{key:0,tooltip:te,day:V.value}):e.createCommentVNode("",!0),o.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(te.color?{backgroundColor:te.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(te.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(H.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,nr)}),128))]))),128))],8,Fn)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,qn))],4)],2)}}}),ar=["aria-label","aria-disabled"],ct=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,i)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:i[0]||(i[0]=m=>n.$emit("activate")),onKeydown:[i[1]||(i[1]=e.withKeys(m=>n.$emit("activate"),["enter"])),i[2]||(i[2]=e.withKeys(m=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,ar))}}),lr=["onKeydown"],or={class:"dp__selection_grid_header"},sr=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],ir=["aria-label","onKeydown"],ve=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:i,buildMultiLevelMatrix:m,setMonthPicker:k}=Ce(),{hideNavigationButtons:A}=ge(n),E=e.ref(!1),$=e.ref(null),I=e.ref(null),C=e.ref([]),p=e.ref(),B=e.ref(null),G=e.ref(0),H=e.ref(null);e.onBeforeUpdate(()=>{$.value=null}),e.onMounted(()=>{e.nextTick().then(()=>T()),N(),L(!0)}),e.onUnmounted(()=>L(!1));const L=_=>{var o;n.arrowNavigation&&((o=n.headerRefs)!=null&&o.length?k(_):i(_))},N=()=>{const _=se(I);_&&(n.textInput||_.focus({preventScroll:!0}),E.value=_.clientHeight<_.scrollHeight)},v=e.computed(()=>({dp__overlay:!0})),R=e.computed(()=>({dp__overlay_col:!0})),j=_=>n.skipActive?!1:_.value===n.modelValue,x=e.computed(()=>n.items.map(_=>_.filter(o=>o).map(o=>{var f,M,Y;const c=n.disabledValues.some(V=>V===o.value)||S(o.value),l=(f=n.multiModelValue)!=null&&f.length?(M=n.multiModelValue)==null?void 0:M.some(V=>re(V,d.setYear(n.monthPicker?d.setMonth(new Date,o.value):new Date,n.monthPicker?n.year:o.value))):j(o);return{...o,className:{dp__overlay_cell_active:l,dp__overlay_cell:!l,dp__overlay_cell_disabled:c,dp__overlay_cell_active_disabled:c&&l,dp__overlay_cell_pad:!0,dp__cell_in_between:(Y=n.multiModelValue)!=null&&Y.length&&n.skipActive?y(o.value):!1}}}))),q=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:E.value,dp__button_bottom:n.autoApply})),F=e.computed(()=>{var _,o;return{dp__overlay_container:!0,dp__container_flex:((_=n.items)==null?void 0:_.length)<=6,dp__container_block:((o=n.items)==null?void 0:o.length)>6}}),S=_=>{const o=n.maxValue||n.maxValue===0,c=n.minValue||n.minValue===0;return!o&&!c?!1:o&&c?+_>+n.maxValue||+_<+n.minValue:o?+_>+n.maxValue:c?+_<+n.minValue:!1},T=()=>{const _=se($),o=se(I),c=se(B),l=se(H),f=c?c.getBoundingClientRect().height:0;o&&(G.value=o.getBoundingClientRect().height-f),_&&l&&(l.scrollTop=_.offsetTop-l.offsetTop-(G.value/2-_.getBoundingClientRect().height)-f)},W=_=>{!n.disabledValues.some(o=>o===_)&&!S(_)&&(a("update:model-value",_),a("selected"))},y=_=>{const o=n.monthPicker?n.year:_;return Bt(n.multiModelValue,d.setYear(n.monthPicker?d.setMonth(new Date,p.value||0):new Date,n.monthPicker?o:p.value||o),d.setYear(n.monthPicker?d.setMonth(new Date,_):new Date,o))},P=()=>{a("toggle"),a("reset-flow")},z=()=>{n.escClose&&P()},ee=(_,o,c,l)=>{_&&(o.value===+n.modelValue&&!n.disabledValues.includes(o.value)&&($.value=_),n.arrowNavigation&&(Array.isArray(C.value[c])?C.value[c][l]=_:C.value[c]=[_],Z()))},Z=()=>{var o,c;const _=(o=n.headerRefs)!=null&&o.length?[n.headerRefs].concat(C.value):C.value.concat([n.skipButtonRef?[]:[B.value]]);m(ie(_),(c=n.headerRefs)!=null&&c.length?"monthPicker":"selectionGrid")};return r({focusGrid:N}),(_,o)=>{var c;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:I,class:e.normalizeClass(e.unref(v)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(z,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(F)),ref_key:"containerRef",ref:H,role:"grid",style:e.normalizeStyle({height:`${G.value}px`})},[e.createElementVNode("div",or,[e.renderSlot(_.$slots,"header")]),_.$slots.overlay?e.renderSlot(_.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(x),(l,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:e.unref(x).length>=3}]),key:f,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,(M,Y)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(R)),key:M.value,"aria-selected":M.value===t.modelValue&&!t.disabledValues.includes(M.value),"aria-disabled":M.className.dp__overlay_cell_disabled,ref_for:!0,ref:V=>ee(V,M,f,Y),tabindex:"0","data-test":M.text,onClick:V=>W(M.value),onKeydown:[e.withKeys(V=>W(M.value),["enter"]),e.withKeys(V=>W(M.value),["space"])],onMouseover:V=>p.value=M.value},[e.createElementVNode("div",{class:e.normalizeClass(M.className)},[_.$slots.item?e.renderSlot(_.$slots,"item",{key:0,item:M}):e.createCommentVNode("",!0),_.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(M.text),1)],64))],2)],42,sr))),128))],2))),128))],6),_.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(c=t.ariaLabels)==null?void 0:c.toggleOverlay,class:e.normalizeClass(e.unref(q)),tabindex:"0",ref_key:"toggleButton",ref:B,onClick:P,onKeydown:e.withKeys(P,["enter"])},[e.renderSlot(_.$slots,"button-icon")],42,ir)),[[e.vShow,!e.unref(A)(t.type)]]):e.createCommentVNode("",!0)],42,lr)}}}),cr=["aria-label"],Kt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:i}=Ge(a.transitions),m=e.ref(null);return e.onMounted(()=>r("set-ref",m)),(k,A)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:A[0]||(A[0]=E=>k.$emit("toggle")),onKeydown:[A[1]||(A[1]=e.withKeys(E=>k.$emit("toggle"),["enter"])),A[2]||(A[2]=e.withKeys(E=>k.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:m},[e.renderSlot(k.$slots,"default")],40,cr),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(i)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(ve,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":A[3]||(A[3]=E=>k.$emit("update:model-value",E)),onToggle:A[4]||(A[4]=E=>k.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[k.$slots["calendar-icon"]?e.renderSlot(k.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),k.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[k.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:E})=>[e.renderSlot(k.$slots,t.slotName,{item:E})]),key:"0"}:void 0,k.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(k.$slots,t.overlaySlot)]),key:"1"}:void 0,k.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(k.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),ur={class:"dp__month_year_row"},dr={class:"dp__month_year_wrap"},fr={class:"dp__month_picker_header"},mr=["aria-label"],yr=["aria-label"],pr=["aria-label"],gr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:i}=ge(n),{transitionName:m,showTransition:k}=Ge(i.value.transitions),{buildMatrix:A}=Ce(),{handleMonthYearChange:E,isDisabled:$,updateMonthYear:I}=Rn(n,a),C=e.ref(!1),p=e.ref(!1),B=e.ref([null,null,null,null]),G=e.ref(null),H=e.ref(null),L=e.ref(null);e.onMounted(()=>{a("mount")});const N=h=>({get:()=>n[h],set:D=>{const g=h==="month"?"year":"month";a("update-month-year",{[h]:D,[g]:n[g]}),a("month-year-select",h==="year"),h==="month"?l(!0):f(!0)}}),v=e.computed(N("month")),R=e.computed(N("year")),j=h=>{const D=d.getYear(b(h));return n.year===D},x=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(h=>b(h)).filter(h=>j(h)).map(h=>d.getMonth(h)):[]:[]),q=e.computed(()=>h=>{const D=h==="month";return{showSelectionGrid:(D?C:p).value,items:(D?Z:_).value,disabledValues:i.value.filters[D?"months":"years"].concat(x.value),minValue:(D?W:S).value,maxValue:(D?y:T).value,headerRefs:D&&n.monthPicker?[G.value,H.value,L.value]:[],escClose:n.escClose,transitions:i.value.transitions,ariaLabels:i.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),F=e.computed(()=>h=>({month:n.month,year:n.year,items:h==="month"?n.months:n.years,instance:n.instance,updateMonthYear:I,toggle:h==="month"?l:f})),S=e.computed(()=>n.minDate?d.getYear(b(n.minDate)):null),T=e.computed(()=>n.maxDate?d.getYear(b(n.maxDate)):null),W=e.computed(()=>{if(n.minDate&&S.value){if(S.value>n.year)return 12;if(S.value===n.year)return d.getMonth(b(n.minDate))}return null}),y=e.computed(()=>n.maxDate&&T.value?T.value<n.year?-1:T.value===n.year?d.getMonth(b(n.maxDate)):null:null),P=e.computed(()=>(n.range||n.multiDates)&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),z=h=>{const D=[],g=O=>O;for(let O=0;O<h.length;O+=3){const te=[h[O],h[O+1],h[O+2]];D.push(g(te))}return D},ee=e.computed(()=>{const h=n.months.find(D=>D.value===n.month);return h||{text:"",value:0}}),Z=e.computed(()=>z(n.months)),_=e.computed(()=>z(n.years)),o=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),c=e.computed(()=>i.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===i.value.multiCalendars-1:!0),l=(h=!1)=>{M(h),C.value=!C.value,C.value||a("overlay-closed")},f=(h=!1)=>{M(h),p.value=!p.value,p.value||a("overlay-closed")},M=h=>{h||a("reset-flow")},Y=(h=!1)=>{$.value(h)||a("update-month-year",{year:h?n.year+1:n.year-1,month:n.month,fromNav:!0})},V=(h,D)=>{n.arrowNavigation&&(B.value[D]=se(h),A(B.value,"monthYear"))};return r({toggleMonthPicker:l,toggleYearPicker:f,handleMonthYearChange:E}),(h,D)=>{var g,O,te,ye,Be;return e.openBlock(),e.createElementBlock("div",ur,[h.$slots["month-year"]?e.renderSlot(h.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(I),handleMonthYearChange:e.unref(E),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!h.monthPicker&&!h.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(o)&&!h.vertical?(e.openBlock(),e.createBlock(ct,{key:0,"aria-label":(g=e.unref(i).ariaLabels)==null?void 0:g.prevMonth,disabled:e.unref($)(!1),onActivate:D[0]||(D[0]=Q=>e.unref(E)(!1)),onSetRef:D[1]||(D[1]=Q=>V(Q,0))},{default:e.withCtx(()=>[h.$slots["arrow-left"]?e.renderSlot(h.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",dr,[e.createVNode(Kt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(O=e.unref(i).ariaLabels)==null?void 0:O.openMonthsOverlay,modelValue:e.unref(v),"onUpdate:modelValue":D[2]||(D[2]=Q=>e.isRef(v)?v.value=Q:null)},e.unref(q)("month"),{onToggle:l,onSetRef:D[3]||(D[3]=Q=>V(Q,1))}),e.createSlots({default:e.withCtx(()=>[h.$slots.month?e.renderSlot(h.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(ee)))):e.createCommentVNode("",!0),h.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(ee).text),1)],64))]),_:2},[h.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"calendar-icon")]),key:"0"}:void 0,h.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(h.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,h.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(F)("month"))))]),key:"2"}:void 0,h.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"month-overlay-header",{toggle:l})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Kt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(te=e.unref(i).ariaLabels)==null?void 0:te.openYearsOverlay,modelValue:e.unref(R),"onUpdate:modelValue":D[4]||(D[4]=Q=>e.isRef(R)?R.value=Q:null)},e.unref(q)("year"),{onToggle:f,onSetRef:D[5]||(D[5]=Q=>V(Q,2))}),e.createSlots({default:e.withCtx(()=>[h.$slots.year?e.renderSlot(h.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),h.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[h.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"calendar-icon")]),key:"0"}:void 0,h.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(h.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,h.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(F)("year"))))]),key:"2"}:void 0,h.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(h.$slots,"year-overlay-header",{toggle:f})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(o)&&h.vertical?(e.openBlock(),e.createBlock(ct,{key:1,"aria-label":(ye=e.unref(i).ariaLabels)==null?void 0:ye.prevMonth,disabled:e.unref($)(!1),onActivate:D[6]||(D[6]=Q=>e.unref(E)(!1))},{default:e.withCtx(()=>[h.$slots["arrow-up"]?e.renderSlot(h.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(c)?(e.openBlock(),e.createBlock(ct,{key:2,ref:"rightIcon",disabled:e.unref($)(!0),"aria-label":(Be=e.unref(i).ariaLabels)==null?void 0:Be.nextMonth,onActivate:D[7]||(D[7]=Q=>e.unref(E)(!0)),onSetRef:D[8]||(D[8]=Q=>V(Q,3))},{default:e.withCtx(()=>[h.$slots[h.vertical?"arrow-down":"arrow-right"]?e.renderSlot(h.$slots,h.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),h.$slots[h.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(h.vertical?e.unref(Ct):e.unref(Dt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),h.monthPicker?(e.openBlock(),e.createBlock(ve,e.mergeProps({key:1},e.unref(q)("month"),{"skip-active":h.range,year:t.year,"multi-model-value":e.unref(P),"month-picker":"",modelValue:e.unref(v),"onUpdate:modelValue":D[17]||(D[17]=Q=>e.isRef(v)?v.value=Q:null),onToggle:l,onSelected:D[18]||(D[18]=Q=>h.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var Q,Se,be;return[e.createElementVNode("div",fr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:G,onClick:D[9]||(D[9]=pe=>Y(!1)),onKeydown:D[10]||(D[10]=e.withKeys(pe=>Y(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref($)(!1)}]),role:"button","aria-label":(Q=e.unref(i).ariaLabels)==null?void 0:Q.prevMonth},[h.$slots["arrow-left"]?e.renderSlot(h.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],10,mr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:H,"aria-label":(Se=e.unref(i).ariaLabels)==null?void 0:Se.openYearsOverlay,tabindex:"0",onClick:D[11]||(D[11]=()=>f(!1)),onKeydown:D[12]||(D[12]=e.withKeys(()=>f(!1),["enter"]))},[h.$slots.year?e.renderSlot(h.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),h.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,yr),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:L,onClick:D[13]||(D[13]=pe=>Y(!0)),onKeydown:D[14]||(D[14]=e.withKeys(pe=>Y(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref($)(!0)}]),role:"button","aria-label":(be=e.unref(i).ariaLabels)==null?void 0:be.nextMonth},[h.$slots["arrow-right"]?e.renderSlot(h.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],10,pr)],544)]),e.createVNode(e.Transition,{name:e.unref(m)(p.value),css:e.unref(k)},{default:e.withCtx(()=>[p.value?(e.openBlock(),e.createBlock(ve,e.mergeProps({key:0},e.unref(q)("year"),{modelValue:e.unref(R),"onUpdate:modelValue":D[15]||(D[15]=pe=>e.isRef(R)?R.value=pe:null),onToggle:f,onSelected:D[16]||(D[16]=pe=>h.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[h.$slots["calendar-icon"]?e.renderSlot(h.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),h.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:pe})=>[e.renderSlot(h.$slots,"year-overlay-value",{text:pe.text,value:pe.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[h.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(h.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),h.yearPicker?(e.openBlock(),e.createBlock(ve,e.mergeProps({key:2},e.unref(q)("year"),{modelValue:e.unref(R),"onUpdate:modelValue":D[19]||(D[19]=Q=>e.isRef(R)?R.value=Q:null),"multi-model-value":e.unref(P),"skip-active":h.range,"skip-button-ref":"","year-picker":"",onToggle:f,onSelected:D[20]||(D[20]=Q=>h.$emit("overlay-closed"))}),e.createSlots({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(h.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),hr={key:0,class:"dp__time_input"},kr=["aria-label","onKeydown","onClick"],wr=["aria-label","data-test","onKeydown","onClick"],Dr=["aria-label","onKeydown","onClick"],br={key:0},Mr=["aria-label","onKeydown"],Cr=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...$e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:i,setTimePickerBackRef:m}=Ce(),{defaults:k}=ge(n),{transitionName:A,showTransition:E}=Ge(k.value.transitions),$=e.reactive({hours:!1,minutes:!1,seconds:!1}),I=e.ref("AM"),C=e.ref(null),p=e.ref([]);e.onMounted(()=>{a("mounted")});const B=e.computed(()=>o=>!!(n.maxTime&&n.maxTime[o]&&n.maxTime[o]<n[o]+ +n[`${o}Increment`])),G=e.computed(()=>o=>!!(n.minTime&&n.minTime[o]&&n.minTime[o]>n[o]-+n[`${o}Increment`])),H=(o,c)=>d.add(d.set(b(),o),c),L=(o,c)=>d.sub(d.set(b(),o),c),N=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),v=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),R=e.computed(()=>v.value.filter(o=>!o.separator)),j=e.computed(()=>o=>{if(o==="hours"){const c=P(n.hours);return{text:c<10?`0${c}`:`${c}`,value:c}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),x=o=>{const c=n.is24?24:12,l=o==="hours"?c:60,f=+n[`${o}GridIncrement`],M=o==="hours"&&!n.is24?f:0,Y=[];for(let V=M;V<l;V+=f)Y.push({value:V,text:V<10?`0${V}`:`${V}`});return o==="hours"&&!n.is24&&Y.push({value:0,text:"12"}),Dn(Y)},q=(o,c)=>{const l=n.minTime&&n.minTime[c],f=n.maxTime&&n.maxTime[c];return l&&f?o<l||o>f:l?o<l:f?o>f:!1},F=e.computed(()=>o=>x(o).flat().filter(l=>l).map(l=>l.value).filter(l=>q(l,o))),S=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],T=o=>{S(o)||($[o]=!$[o],$[o]||a("overlay-closed"))},W=o=>o==="hours"?d.getHours:o==="minutes"?d.getMinutes:d.getSeconds,y=(o,c=!0)=>{const l=c?H:L;(c?B.value(o):G.value(o))||a(`update:${o}`,W(o)(l({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},P=o=>n.is24?o:(o>=12?I.value="PM":I.value="AM",$n(o)),z=()=>{I.value==="PM"?(I.value="AM",a("update:hours",n.hours-12)):(I.value="PM",a("update:hours",n.hours+12))},ee=o=>{$[o]=!0},Z=(o,c,l)=>{if(o&&n.arrowNavigation){Array.isArray(p.value[c])?p.value[c][l]=o:p.value[c]=[o];const f=p.value.reduce((M,Y)=>Y.map((V,h)=>[...M[h]||[],Y[h]]),[]);m(n.closeTimePickerBtn),C.value&&(f[1]=f[1].concat(C.value)),i(f,n.order)}},_=(o,c)=>o==="hours"&&!n.is24?a(`update:${o}`,I.value==="PM"?c+12:c):a(`update:${o}`,c);return r({openChildCmp:ee}),(o,c)=>{var l;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",hr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(f,M)=>{var Y,V,h;return e.openBlock(),e.createElementBlock("div",{key:M,class:e.normalizeClass(e.unref(N))},[f.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(B)(f.type)}),role:"button","data-test":"time-inc-btn","aria-label":(Y=e.unref(k).ariaLabels)==null?void 0:Y.incrementValue(f.type),tabindex:"0",onKeydown:[e.withKeys(D=>y(f.type),["enter"]),e.withKeys(D=>y(f.type),["space"])],onClick:D=>y(f.type),ref_for:!0,ref:D=>Z(D,M,0)},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],42,kr),e.createElementVNode("div",{role:"button","aria-label":(V=e.unref(k).ariaLabels)==null?void 0:V.openTpOverlay(f.type),class:e.normalizeClass(S(f.type)?"":"dp__time_display"),tabindex:"0","data-test":`${f.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(D=>T(f.type),["enter"]),e.withKeys(D=>T(f.type),["space"])],onClick:D=>T(f.type),ref_for:!0,ref:D=>Z(D,M,1)},[o.$slots[f.type]?e.renderSlot(o.$slots,f.type,{key:0,text:e.unref(j)(f.type).text,value:e.unref(j)(f.type).value}):e.createCommentVNode("",!0),o.$slots[f.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(j)(f.type).text),1)],64))],42,wr),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(G)(f.type)}),role:"button","data-test":"time-dec-btn","aria-label":(h=e.unref(k).ariaLabels)==null?void 0:h.decrementValue(f.type),tabindex:"0",onKeydown:[e.withKeys(D=>y(f.type,!1),["enter"]),e.withKeys(D=>y(f.type,!1),["space"])],onClick:D=>y(f.type,!1),ref_for:!0,ref:D=>Z(D,M,2)},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],42,Dr)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",br,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:z,value:I.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:C,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.amPmButton,tabindex:"0",onClick:z,onKeydown:[e.withKeys(e.withModifiers(z,["prevent"]),["enter"]),e.withKeys(e.withModifiers(z,["prevent"]),["space"])]},e.toDisplayString(I.value),41,Mr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(R),(f,M)=>(e.openBlock(),e.createBlock(e.Transition,{key:M,name:e.unref(A)($[f.type]),css:e.unref(E)},{default:e.withCtx(()=>[$[f.type]?(e.openBlock(),e.createBlock(ve,{key:0,items:x(f.type),"disabled-values":e.unref(k).filters.times[f.type].concat(e.unref(F)(f.type)),"esc-close":o.escClose,"aria-labels":e.unref(k).ariaLabels,"hide-navigation":o.hideNavigation,"onUpdate:modelValue":Y=>_(f.type,Y),onSelected:Y=>T(f.type),onToggle:Y=>T(f.type),onResetFlow:c[0]||(c[0]=Y=>o.$emit("reset-flow")),type:f.type},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))]),_:2},[o.$slots[`${f.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:Y})=>[e.renderSlot(o.$slots,`${f.type}-overlay-value`,{text:Y.text,value:Y.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),$r=["aria-label"],Br={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Sr={key:1,class:"dp__overlay_row dp__flex_row"},Nr=["aria-label"],Tr=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:i,setTimePicker:m}=Ce(),k=e.useSlots(),{hideNavigationButtons:A,defaults:E}=ge(n),{transitionName:$,showTransition:I}=Ge(E.value.transitions),C=e.ref(null),p=e.ref(null),B=e.ref([]),G=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?i([se(C.value)],"time"):m(!0,n.timePicker)});const H=e.computed(()=>n.range&&n.modelAuto?Yt(n.internalModelValue):!0),L=e.ref(!1),N=y=>({hours:Array.isArray(n.hours)?n.hours[y]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[y]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[y]:n.seconds}),v=e.computed(()=>{const y=[];if(n.range)for(let P=0;P<2;P++)y.push(N(P));else y.push(N(0));return y}),R=(y,P=!1,z="")=>{P||a("reset-flow"),L.value=y,y&&a("overlay-opened"),n.arrowNavigation&&(m(y),y||a("overlay-closed")),e.nextTick(()=>{z!==""&&B.value[0]&&B.value[0].openChildCmp(z)})},j=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),x=Ae(k,"timePicker"),q=(y,P,z)=>n.range?P===0?[y,v.value[1][z]]:[v.value[0][z],y]:y,F=y=>{a("update:hours",y)},S=y=>{a("update:minutes",y)},T=y=>{a("update:seconds",y)},W=()=>{G.value&&n.arrowNavigation&&G.value.focus({preventScroll:!0})};return r({toggleTimePicker:R}),(y,P)=>{var z;return e.openBlock(),e.createElementBlock("div",null,[y.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(j)),role:"button","aria-label":(z=e.unref(E).ariaLabels)==null?void 0:z.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:C,onKeydown:[P[0]||(P[0]=e.withKeys(ee=>R(!0),["enter"])),P[1]||(P[1]=e.withKeys(ee=>R(!0),["space"]))],onClick:P[2]||(P[2]=ee=>R(!0))},[y.$slots["clock-icon"]?e.renderSlot(y.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],42,$r)),[[e.vShow,!e.unref(A)("time")]]),e.createVNode(e.Transition,{name:e.unref($)(L.value),css:e.unref(I)},{default:e.withCtx(()=>{var ee;return[L.value||y.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:G,tabindex:"0"},[e.createElementVNode("div",Br,[y.$slots["time-picker-overlay"]?e.renderSlot(y.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:F,setMinutes:S,setSeconds:T}):e.createCommentVNode("",!0),y.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Sr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(Z,_)=>e.withDirectives((e.openBlock(),e.createBlock(Cr,e.mergeProps({key:_},{...y.$props,order:_,hours:Z.hours,minutes:Z.minutes,seconds:Z.seconds,closeTimePickerBtn:p.value,disabled:_===0?y.fixedStart:y.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:B,"onUpdate:hours":o=>F(q(o,_,"hours")),"onUpdate:minutes":o=>S(q(o,_,"minutes")),"onUpdate:seconds":o=>T(q(o,_,"seconds")),onMounted:W,onOverlayClosed:W}),e.createSlots({_:2},[e.renderList(e.unref(x),(o,c)=>({name:o,fn:e.withCtx(l=>[e.renderSlot(y.$slots,o,e.normalizeProps(e.guardReactiveProps(l)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,_===0?!0:e.unref(H)]])),128))])),y.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:p,class:e.normalizeClass(e.unref(j)),role:"button","aria-label":(ee=e.unref(E).ariaLabels)==null?void 0:ee.closeTimePicker,tabindex:"0",onKeydown:[P[3]||(P[3]=e.withKeys(Z=>R(!1),["enter"])),P[4]||(P[4]=e.withKeys(Z=>R(!1),["space"]))],onClick:P[5]||(P[5]=Z=>R(!1))},[y.$slots["calendar-icon"]?e.renderSlot(y.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,Nr)),[[e.vShow,!e.unref(A)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Pr=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:i}=ge(r),m=e.ref(null),k=e.ref(b()),A=l=>{!l.current&&r.hideOffsetDates||(m.value=l.value)},E=()=>{m.value=null},$=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&m.value?l?de(m.value,t.value[0]):ue(m.value,t.value[0]):!0,I=(l,f)=>{const M=()=>t.value?f?t.value[0]||null:t.value[1]:null,Y=t.value&&Array.isArray(t.value)?M():null;return re(b(l.value),Y)},C=l=>{const f=Array.isArray(t.value)?t.value[0]:null;return l?!ue(m.value||null,f):!0},p=(l,f=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!l.current?!1:re(b(l.value),t.value[f?0:1]):r.range?I(l,f)&&C(f)||re(l.value,Array.isArray(t.value)?t.value[0]:null)&&$(f):!1,B=(l,f,M)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:M?de(t.value[0],f.value):ue(t.value[0],f.value):!1,G=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?re(l.value,t.value[0]?t.value[0]:k.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(f=>re(f,l.value)):re(l.value,t.value?t.value:k.value),H=l=>{if(r.autoRange||r.weekPicker){if(m.value){if(r.hideOffsetDates&&!l.current)return!1;const f=d.addDays(m.value,+r.autoRange),M=i(b(m.value));return r.weekPicker?re(M[1],b(l.value)):re(f,b(l.value))}return!1}return!1},L=l=>{if(r.autoRange||r.weekPicker){if(m.value){const f=d.addDays(m.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const M=i(b(m.value));return r.weekPicker?de(l.value,M[0])&&ue(l.value,M[1]):de(l.value,m.value)&&ue(l.value,f)}return!1}return!1},N=l=>{if(r.autoRange||r.weekPicker){if(m.value){if(r.hideOffsetDates&&!l.current)return!1;const f=i(b(m.value));return r.weekPicker?re(f[0],l.value):re(m.value,l.value)}return!1}return!1},v=l=>Bt(t.value,m.value,l.value),R=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,j=()=>r.modelAuto?Yt(r.internalModelValue):!0,x=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const f=r.range?!p(l)&&!p(l,!1):!0;return!a(l.value)&&!G(l)&&!(!l.current&&r.hideOffsetDates)&&f},q=l=>r.range?r.modelAuto?R()&&G(l):!1:G(l),F=l=>r.highlight?n(l.value,r.highlight):!1,S=l=>a(l.value)&&r.highlightDisabledDays===!1,T=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),W=l=>(r.range||r.weekPicker)&&(!(r.multiCalendars>0)||l.current)&&j()&&!(!l.current&&r.hideOffsetDates)&&!G(l)?v(l):!1,y=l=>{const{isRangeStart:f,isRangeEnd:M}=ee(l),Y=r.range?f||M:!1;return{dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!S(l)&&(F(l)||T(l))&&!q(l)&&!Y,dp__cell_highlight_active:!S(l)&&(F(l)||T(l))&&q(l),dp__today:!r.noToday&&re(l.value,k.value)&&l.current}},P=l=>({dp__active_date:q(l),dp__date_hover:x(l)}),z=l=>({...Z(l),..._(l),dp__range_between_week:W(l)&&r.weekPicker}),ee=l=>{const f=r.multiCalendars>0?l.current&&p(l)&&j():p(l)&&j(),M=r.multiCalendars>0?l.current&&p(l,!1)&&j():p(l,!1)&&j();return{isRangeStart:f,isRangeEnd:M}},Z=l=>{const{isRangeStart:f,isRangeEnd:M}=ee(l);return{dp__range_start:f,dp__range_end:M,dp__range_between:W(l)&&!r.weekPicker,dp__date_hover_start:B(x(l),l,!0),dp__date_hover_end:B(x(l),l,!1)}},_=l=>({...Z(l),dp__cell_auto_range:L(l),dp__cell_auto_range_start:N(l),dp__cell_auto_range_end:H(l)}),o=l=>r.range?r.autoRange?_(l):r.modelAuto?{...P(l),...Z(l)}:Z(l):r.weekPicker?z(l):P(l);return{setHoverDate:A,clearHoverDate:E,getDayClassData:l=>({...y(l),...o(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},Ar=["id","onKeydown"],Vr={key:0,class:"dp__sidebar_left"},_r={key:1,class:"dp__preset_ranges"},Er=["onClick"],Rr={key:2,class:"dp__sidebar_right"},vr={key:3,class:"dp__now_wrap"},Or=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...$e},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,{setMenuFocused:i,setShiftKey:m,control:k}=St(),{getCalendarDays:A,defaults:E}=ge(n),$=e.useSlots(),I=e.ref(null),C=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),p=e.ref([]),B=e.ref([]),G=e.ref(null),H=e.ref(null),L=e.ref(!1),N=e.ref(0);e.onMounted(()=>{L.value=!0;const s=se(H);if(s&&!n.textInput&&!n.inline&&(i(!0),F()),s){const w=K=>{["action-row","time-picker","month-year"].some(ne=>Object.keys($).includes(ne))||K.preventDefault(),K.stopImmediatePropagation(),K.stopPropagation()};s.addEventListener("pointerdown",w),s.addEventListener("mousedown",w)}});const{arrowRight:v,arrowLeft:R,arrowDown:j,arrowUp:x}=Ce(),q=s=>{s||s===0?B.value[s].triggerTransition(P.value(s),z.value(s)):B.value.forEach((w,K)=>w.triggerTransition(P.value(K),z.value(K)))},F=()=>{const s=se(H);s&&s.focus({preventScroll:!0})},S=()=>{var s;(s=n.flow)!=null&&s.length&&N.value!==-1&&(N.value+=1,a("flow-step",N.value),ht())},T=()=>{N.value=-1},{calendars:W,modelValue:y,month:P,year:z,time:ee,updateTime:Z,updateMonthYear:_,selectDate:o,getWeekNum:c,monthYearSelect:l,handleScroll:f,handleArrow:M,handleSwipe:Y,getMarker:V,selectCurrentDate:h,presetDateRange:D}=_n(n,a,S,q,N),{setHoverDate:g,clearHoverDate:O,getDayClassData:te}=Pr(y,n);e.watch(W,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const ye=Ae($,"calendar"),Be=Ae($,"action"),Q=Ae($,"timePicker"),Se=Ae($,"monthYear"),be=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),pe=e.computed(()=>Mn(n.yearRange,n.reverseYears)),Ve=e.computed(()=>Cn(n.locale,n.monthNameFormat)),X=e.computed(()=>s=>A(P.value(s),z.value(s))),oe=e.computed(()=>E.value.multiCalendars>0&&n.range?[...Array(E.value.multiCalendars).keys()]:[0]),ae=e.computed(()=>s=>s===1),Ne=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),he=e.computed(()=>({dp__flex_display:E.value.multiCalendars>0})),Ze=e.computed(()=>({dp__instance_calendar:E.value.multiCalendars>0})),ft=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),mt=e.computed(()=>s=>qe(X,s)),yt=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),qe=(s,w)=>s.value(w).map(K=>({...K,days:K.days.map(ne=>(ne.marker=V(ne),ne.classData=te(ne),ne))})),Oe=s=>{s.stopPropagation(),s.stopImmediatePropagation()},pt=()=>{n.escClose&&a("close-picker")},gt=(s,w=!1)=>{o(s,w),n.spaceConfirm&&a("select-date")},Ye=s=>{var w;(w=n.flow)!=null&&w.length&&(C[s]=!0,Object.keys(C).filter(K=>!C[K]).length||ht())},Te=(s,w,K,ne,...ke)=>{if(n.flow[N.value]===s){const U=ne?w.value[0]:w.value;U&&U[K](...ke)}},ht=()=>{Te("month",p,"toggleMonthPicker",!0,!0),Te("year",p,"toggleYearPicker",!0,!0),Te("calendar",G,"toggleTimePicker",!1,!1,!0),Te("time",G,"toggleTimePicker",!1,!0,!0);const s=n.flow[N.value];(s==="hours"||s==="minutes"||s==="seconds")&&Te(s,G,"toggleTimePicker",!1,!0,!0,s)},Ie=s=>{if(n.arrowNavigation){if(s==="up")return x();if(s==="down")return j();if(s==="left")return R();if(s==="right")return v()}else s==="left"||s==="up"?M("left",0,s==="up"):M("right",0,s==="down")},Ut=s=>{m(s.shiftKey),!n.disableMonthYearSelect&&s.code==="Tab"&&s.target.classList.contains("dp__menu")&&k.value.shiftKeyInMenu&&(s.preventDefault(),s.stopImmediatePropagation(),a("close-picker"))},u=s=>{p.value[0]&&p.value[0].handleMonthYearChange(s)};return r({updateMonthYear:_}),(s,w)=>{var K;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(K=e.unref(E).transitions)==null?void 0:K.menuAppear,mode:"out-in",css:!!s.transitions},{default:e.withCtx(()=>{var ne,ke;return[e.createElementVNode("div",{id:s.uid?`dp-menu-${s.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:H,role:"dialog",class:e.normalizeClass(e.unref(yt)),onMouseleave:w[15]||(w[15]=(...U)=>e.unref(O)&&e.unref(O)(...U)),onClick:Oe,onKeydown:[e.withKeys(pt,["esc"]),w[16]||(w[16]=e.withKeys(e.withModifiers(U=>Ie("left"),["prevent"]),["left"])),w[17]||(w[17]=e.withKeys(e.withModifiers(U=>Ie("up"),["prevent"]),["up"])),w[18]||(w[18]=e.withKeys(e.withModifiers(U=>Ie("down"),["prevent"]),["down"])),w[19]||(w[19]=e.withKeys(e.withModifiers(U=>Ie("right"),["prevent"]),["right"])),Ut]},[(s.disabled||s.readonly)&&s.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(ft))},null,2)):e.createCommentVNode("",!0),!s.inline&&!s.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(be))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((ne=s.presetRanges)==null?void 0:ne.length)||!!s.$slots["left-sidebar"]||!!s.$slots["right-sidebar"]})},[s.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Vr,[e.renderSlot(s.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:u})))])):e.createCommentVNode("",!0),(ke=s.presetRanges)!=null&&ke.length?(e.openBlock(),e.createElementBlock("div",_r,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.presetRanges,(U,Me)=>(e.openBlock(),e.createElementBlock("div",{key:Me,style:e.normalizeStyle(U.style||{}),class:"dp__preset_range",onClick:J=>e.unref(D)(U.range,!!U.slot)},[U.slot?e.renderSlot(s.$slots,U.slot,{key:0,presetDateRange:e.unref(D),label:U.label,range:U.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(U.label),1)],64))],12,Er))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:I,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(he))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(oe),(U,Me)=>(e.openBlock(),e.createElementBlock("div",{key:U,class:e.normalizeClass(e.unref(Ze))},[!s.disableMonthYearSelect&&!s.timePicker?(e.openBlock(),e.createBlock(gr,e.mergeProps({key:0,ref_for:!0,ref:J=>{J&&(p.value[Me]=J)},months:e.unref(Ve),years:e.unref(pe),month:e.unref(P)(U),year:e.unref(z)(U),instance:U,"internal-model-value":t.internalModelValue},s.$props,{onMount:w[0]||(w[0]=J=>Ye("monthYearInput")),onResetFlow:T,onUpdateMonthYear:J=>e.unref(_)(U,J),onMonthYearSelect:e.unref(l),onOverlayClosed:F}),e.createSlots({_:2},[e.renderList(e.unref(Se),(J,Kr)=>({name:J,fn:e.withCtx(kt=>[e.renderSlot(s.$slots,J,e.normalizeProps(e.guardReactiveProps(kt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(rr,e.mergeProps({ref_for:!0,ref:J=>{J&&(B.value[Me]=J)},"specific-mode":e.unref(Ne),"get-week-num":e.unref(c),instance:U,"mapped-dates":e.unref(mt)(U),month:e.unref(P)(U),year:e.unref(z)(U)},s.$props,{"flow-step":N.value,"onUpdate:flowStep":w[1]||(w[1]=J=>N.value=J),onSelectDate:J=>e.unref(o)(J,!e.unref(ae)(U)),onHandleSpace:J=>gt(J,!e.unref(ae)(U)),onSetHoverDate:w[2]||(w[2]=J=>e.unref(g)(J)),onHandleScroll:J=>e.unref(f)(J,U),onHandleSwipe:J=>e.unref(Y)(J,U),onMount:w[3]||(w[3]=J=>Ye("calendar")),onResetFlow:T,onTooltipOpen:w[4]||(w[4]=J=>s.$emit("tooltip-open",J)),onTooltipClose:w[5]||(w[5]=J=>s.$emit("tooltip-close",J))}),e.createSlots({_:2},[e.renderList(e.unref(ye),(J,Kr)=>({name:J,fn:e.withCtx(kt=>[e.renderSlot(s.$slots,J,e.normalizeProps(e.guardReactiveProps({...kt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[s.$slots["time-picker"]?e.renderSlot(s.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(ee),updateTime:e.unref(Z)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[s.enableTimePicker&&!s.monthPicker&&!s.weekPicker?(e.openBlock(),e.createBlock(Tr,e.mergeProps({key:0,ref_key:"timePickerRef",ref:G,hours:e.unref(ee).hours,minutes:e.unref(ee).minutes,seconds:e.unref(ee).seconds,"internal-model-value":t.internalModelValue},s.$props,{onMount:w[6]||(w[6]=U=>Ye("timePicker")),"onUpdate:hours":w[7]||(w[7]=U=>e.unref(Z)(U)),"onUpdate:minutes":w[8]||(w[8]=U=>e.unref(Z)(U,!1)),"onUpdate:seconds":w[9]||(w[9]=U=>e.unref(Z)(U,!1,!0)),onResetFlow:T,onOverlayClosed:F,onOverlayOpened:w[10]||(w[10]=U=>s.$emit("time-picker-open",U))}),e.createSlots({_:2},[e.renderList(e.unref(Q),(U,Me)=>({name:U,fn:e.withCtx(J=>[e.renderSlot(s.$slots,U,e.normalizeProps(e.guardReactiveProps(J)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),s.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Rr,[e.renderSlot(s.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps({handleMonthYearChange:u})))])):e.createCommentVNode("",!0),s.showNowButton?(e.openBlock(),e.createElementBlock("div",vr,[s.$slots["now-button"]?e.renderSlot(s.$slots,"now-button",{key:0,selectCurrentDate:e.unref(h)}):e.createCommentVNode("",!0),s.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:w[11]||(w[11]=(...U)=>e.unref(h)&&e.unref(h)(...U))},e.toDisplayString(s.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!s.autoApply||s.keepActionRow?(e.openBlock(),e.createBlock(Zn,e.mergeProps({key:2,"menu-mount":L.value,"internal-model-value":t.internalModelValue},s.$props,{onClosePicker:w[12]||(w[12]=U=>s.$emit("close-picker")),onSelectDate:w[13]||(w[13]=U=>s.$emit("select-date")),onInvalidSelect:w[14]||(w[14]=U=>s.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Be),(U,Me)=>({name:U,fn:e.withCtx(J=>[e.renderSlot(s.$slots,U,e.normalizeProps(e.guardReactiveProps({...J})))])}))]),1040,["menu-mount","internal-model-value"])):e.createCommentVNode("",!0)],42,Ar)]}),_:3},8,["name","css"])}}}),Yr=typeof window<"u"?window:void 0,ut=()=>{},Ir=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Lr=(t,r,a,n)=>{if(!t)return ut;let i=ut;const m=e.watch(()=>e.unref(t),A=>{i(),A&&(A.addEventListener(r,a,n),i=()=>{A.removeEventListener(r,a,n),i=ut})},{immediate:!0,flush:"post"}),k=()=>{m(),i()};return Ir(k),k},xr=(t,r,a,n={})=>{const{window:i=Yr,event:m="pointerdown"}=n;return i?Lr(i,m,A=>{const E=se(t),$=se(r);!E||!$||E===A.target||A.composedPath().includes(E)||A.composedPath().includes($)||a(A)},{passive:!0}):void 0},zr=e.defineComponent({__name:"VueDatePicker",props:{...$e},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open"],setup(t,{expose:r,emit:a}){const n=t,i=e.useSlots(),m=e.ref(!1),k=e.toRef(n,"modelValue"),A=e.toRef(n,"timezone"),E=e.ref(null),$=e.ref(null),I=e.ref(!1),C=e.ref(null),{setMenuFocused:p,setShiftKey:B}=St(),{clearArrowNav:G}=Ce(),{validateDate:H,isValidTime:L}=ge(n);e.onMounted(()=>{W(n.modelValue),n.inline||(F(C.value).addEventListener("scroll",o),window.addEventListener("resize",c)),n.inline&&(m.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const X=F(C.value);X&&X.removeEventListener("scroll",o),window.removeEventListener("resize",c)}});const N=Ae(i,"all",n.presetRanges),v=Ae(i,"input");e.watch([k,A],()=>{W(k.value)},{deep:!0});const{openOnTop:R,menuPosition:j,setMenuPosition:x,setInitialPosition:q,getScrollableParent:F}=vn(E,$,a,n),{inputValue:S,internalModelValue:T,parseExternalModelValue:W,emitModelValue:y,formatInputValue:P,checkBeforeEmit:z}=En(a,n,I),ee=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),Z=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),_=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:n.inline}:{class:"dp__outer_menu_wrap"}),o=()=>{m.value&&(n.closeOnScroll?O():x())},c=()=>{m.value&&x()},l=()=>{!n.disabled&&!n.readonly&&(q(),m.value=!0,e.nextTick().then(()=>{x(),m.value&&a("open")}),m.value||g(),W(n.modelValue))},f=()=>{S.value="",g(),a("update:model-value",null),a("cleared"),O()},M=()=>{const X=T.value;return!X||!Array.isArray(X)&&H(X)?!0:Array.isArray(X)?X.length===2&&H(X[0])&&H(X[1])?!0:H(X[0]):!1},Y=()=>{z()&&M()?(y(),O()):a("invalid-select",T.value)},V=X=>{h(),y(),n.closeOnAutoApply&&!X&&O()},h=()=>{$.value&&n.textInput&&$.value.setParsedDate(T.value)},D=(X=!1)=>{n.autoApply&&L(T.value)&&M()&&(n.range&&Array.isArray(T.value)?(n.partialRange||T.value.length===2)&&V(X):V(X))},g=()=>{n.textInput||(T.value=null)},O=()=>{n.inline||(m.value&&(m.value=!1,p(!1),B(!1),G(),a("closed"),q(),S.value&&W(k.value)),g())},te=(X,oe)=>{if(!X){T.value=null;return}T.value=X,oe&&(Y(),a("text-submit"))},ye=()=>{n.autoApply&&L(T.value)&&y(),h()},Be=()=>m.value?O():l(),Q=X=>{T.value=X},Se=()=>{n.textInput&&(I.value=!0,P()),a("focus")},be=()=>{n.textInput&&(I.value=!1,W(n.modelValue)),a("blur")},pe=X=>{E.value&&E.value.updateMonthYear(0,{month:It(X.month),year:It(X.year)})},Ve=X=>{W(X||n.modelValue)};return xr(E,$,n.onClickOutside?()=>n.onClickOutside(M):O),r({closeMenu:O,selectDate:Y,clearValue:f,openMenu:l,onScroll:o,formatInputValue:P,updateInternalModelValue:Q,setMonthYear:pe,parseModel:Ve}),(X,oe)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(ee)),ref_key:"pickerWrapperRef",ref:C},[e.createVNode(Un,e.mergeProps({ref_key:"inputRef",ref:$,"is-menu-open":m.value,"input-value":e.unref(S),"onUpdate:inputValue":oe[0]||(oe[0]=ae=>e.isRef(S)?S.value=ae:null)},X.$props,{onClear:f,onOpen:l,onSetInputDate:te,onSetEmptyDate:e.unref(y),onSelectDate:Y,onToggle:Be,onClose:O,onFocus:Se,onBlur:be}),e.createSlots({_:2},[e.renderList(e.unref(v),(ae,Ne)=>({name:ae,fn:e.withCtx(he=>[e.renderSlot(X.$slots,ae,e.normalizeProps(e.guardReactiveProps(he)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),m.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(X.teleport?e.Teleport:"div"),e.normalizeProps(e.mergeProps({key:0},e.unref(_))),{default:e.withCtx(()=>[m.value?(e.openBlock(),e.createBlock(Or,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:E,class:e.unref(Z),style:e.unref(j),"open-on-top":e.unref(R)},X.$props,{"internal-model-value":e.unref(T),"onUpdate:internalModelValue":oe[1]||(oe[1]=ae=>e.isRef(T)?T.value=ae:null),onClosePicker:O,onSelectDate:Y,onAutoApply:D,onTimeUpdate:ye,onFlowStep:oe[2]||(oe[2]=ae=>X.$emit("flow-step",ae)),onUpdateMonthYear:oe[3]||(oe[3]=ae=>X.$emit("update-month-year",ae)),onInvalidSelect:oe[4]||(oe[4]=ae=>X.$emit("invalid-select",e.unref(T))),onInvalidFixedRange:oe[5]||(oe[5]=ae=>X.$emit("invalid-fixed-range",ae)),onRecalculatePosition:e.unref(x),onTooltipOpen:oe[6]||(oe[6]=ae=>X.$emit("tooltip-open",ae)),onTooltipClose:oe[7]||(oe[7]=ae=>X.$emit("tooltip-close",ae)),onTimePickerOpen:oe[8]||(oe[8]=ae=>X.$emit("time-picker-open",ae))}),e.createSlots({_:2},[e.renderList(e.unref(N),(ae,Ne)=>({name:ae,fn:e.withCtx(he=>[e.renderSlot(X.$slots,ae,e.normalizeProps(e.guardReactiveProps({...he})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)]),_:3},16)):e.createCommentVNode("",!0)],2))}}),dt=(()=>{const t=zr;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(dt[t]=r)}),dt});
